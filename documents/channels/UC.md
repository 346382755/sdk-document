  ## UC SDK配置说明

 ### 一.接入前的准备

  1. 根据“UC·九游开放平台（http://game.open.uc.cn/）

  2. 进入“UC·九游开放平台”注册帐号、创建所需接入的游戏并提交审核。

  3. 在后台获取游戏所需的参数：CP ID、ApiKey、Game ID。

     登录UC开放平台->游戏管理->选择游戏，点击下图所示位置，即可获取相应参数并配置支付回调地址

     ![](http://docs.mztgame.com/files/assets/img/003uc.png)

### 二.注意事项

   1.  包名的要求：包名必须以 ** `.uc` ** 结尾。

   2.  游戏桌面icon的角标只能放在图标的右下方

   3. UC有悬浮窗按钮，登陆成功后出现，游戏退出时需要调用onDestroy（）。

   4. 个人中心默认为强制竖屏，无法修改。

### 三.常见问题

   1. 九游UC如何切换账号：

            若已登陆，点击登出，在弹出的对话框内填写新的手机号；

            若未登陆（之前登陆过）点击登陆，在弹出的对话框点击【切换账号】进行账号切换。

   2. 客户端接入sdk时，调用支付方法出现“当前暂无可用支付方式”、“支付失败”的提示。
      如遇到此类问题，可遵循以下步骤进行自查。
      解决步骤：

           1）确认客户端当前的模式为测试环境或生产环境（初始化方法中debugmode参数设置为true时为测试环境模式，设置为false时为生产环境模式），如为测试环境模式， 检查开放平台上，游戏对应的测试环境支付接口回调地址是否已配置。注意：需配置到游戏的测试环境参数的输入框，并有半小时缓存同步时间。参数配置详见http://doc.game.open.uc.cn/doc/detail/21#doc。

           2）如为生产环境模式，检查开放平台上，游戏对应的生产环境支付接口回调地址是否已配置。注意：需配置到游戏的生产环境参数的输入框，并有半小时缓存同步时间。参数配置详见http://doc.game.open.uc.cn/doc/detail/21#doc。
           3）如果人没有解决问题，检查SDK初始化方法传入的serverId及调用SDK支付PAY方法设置的serverId是否为0，如果不是，会导致支付界面无法正常打开。如仍无法支付，请联系对应合作讨论组的技术接口人寻求支持。

 3. 游戏已经切换到生产环境了。但当调用支付的时候，使用U点支付，会出现下单失败（支      付宝也是一样），请问这个问题怎么解决？

      ![](http://docs.mztgame.com/files/assets/img/008uc.png)

      1）游戏初始化及调pay方法时传的serverID是否为0，如果不是，请修改

      2）检查下回调地址是否已配置

      3）如以上两点已配置正确，请检查出现问题的环境，即debugMode为true/false，目前测试环境有问题，可能无法充值，建议切换到正式环境，如仍无法解决，请咨询UC技术人员。

   4. 支付时出现如下错误提示

      ![](http://docs.mztgame.com/files/assets/img/UC01.png)

      解决方式：该问题需要联系UC进行处理。

   5. UC在安卓6.0的机型上点击登录卡住，无法点击。

       该问题为UC渠道自身问题，需联系UC处理。    
